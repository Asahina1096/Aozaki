# Komari AstroNext ä¸»é¢˜

ä¸€ä¸ªç°ä»£åŒ–çš„ Komari ç›‘æ§ç³»ç»Ÿä¸»é¢˜ï¼ŒåŸºäº Astroã€Reactã€TailwindCSS å’Œ shadcn/ui æ„å»ºã€‚

## ç‰¹æ€§

- âœ¨ ç°ä»£åŒ–çš„æš—è‰²å“åº”å¼è®¾è®¡
- ğŸ¨ åŸºäº TailwindCSS å’Œ shadcn/ui çš„ç²¾ç¾ UI ç»„ä»¶
- ğŸš€ Astro é™æ€ç«™ç‚¹ç”Ÿæˆï¼Œæ€§èƒ½å‡ºè‰²
- âš¡ React å®¢æˆ·ç«¯ç»„ä»¶å®ç°åŠ¨æ€äº¤äº’
- ğŸ”„ å®æ—¶æ•°æ®åˆ·æ–°ï¼ˆé€šè¿‡ JSON-RPC2ï¼‰
- ğŸ“± å®Œå…¨å“åº”å¼å¸ƒå±€ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸŒ™ æ˜æš—ä¸»é¢˜åˆ‡æ¢
- âš™ï¸ å¯é…ç½®çš„ä¸»é¢˜è®¾ç½®ï¼ˆæ˜¾ç¤ºæ¨¡å¼ã€åˆ·æ–°é—´éš”ç­‰ï¼‰

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Astro 4.x
- **UI åº“**: React 18
- **æ ·å¼**: TailwindCSS + shadcn/ui
- **å›¾æ ‡**: Lucide React
- **ç±»å‹**: TypeScript
- **æ•°æ®è·å–**: JSON-RPC2

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘

```bash
npm run dev
```

è®¿é—® `http://localhost:4321` æŸ¥çœ‹ä¸»é¢˜ã€‚

### æ„å»º

```bash
npm run build
```

æ„å»ºè¾“å‡ºå°†ç”Ÿæˆåœ¨ `dist/` ç›®å½•ä¸­ã€‚

### é¢„è§ˆ

```bash
npm run preview
```

## éƒ¨ç½²åˆ° Komari

### 1. æ„å»ºä¸»é¢˜

```bash
npm run build
```

### 2. æ‰“åŒ…ä¸»é¢˜

å°†ä»¥ä¸‹æ–‡ä»¶æ‰“åŒ…æˆ ZIP æ–‡ä»¶ï¼š

```
komari-astronext.zip
â”œâ”€â”€ komari-theme.json
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ _astro/
â”‚   â””â”€â”€ favicon.svg
```

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“åŒ…ï¼š

```bash
zip -r komari-astronext.zip komari-theme.json dist/
```

### 3. ä¸Šä¼ ä¸»é¢˜

1. ç™»å½• Komari ç®¡ç†åå°
2. è¿›å…¥ä¸»é¢˜ç®¡ç†é¡µé¢
3. ä¸Šä¼  `komari-astronext.zip`
4. æ¿€æ´»ä¸»é¢˜

## ä¸»é¢˜é…ç½®

ä¸»é¢˜æ”¯æŒä»¥ä¸‹é…ç½®é¡¹ï¼ˆå¯åœ¨ Komari ç®¡ç†åå°è®¾ç½®ï¼‰ï¼š

- **é»˜è®¤è§†å›¾æ¨¡å¼**: ç½‘æ ¼ / åˆ—è¡¨
- **æ˜¾ç¤ºç¦»çº¿èŠ‚ç‚¹**: æ˜¯å¦æ˜¾ç¤ºç¦»çº¿çš„èŠ‚ç‚¹
- **åˆ·æ–°é—´éš”**: è‡ªåŠ¨åˆ·æ–°èŠ‚ç‚¹çŠ¶æ€çš„æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰
- **è‡ªåŠ¨åˆ·æ–°**: æ˜¯å¦è‡ªåŠ¨åˆ·æ–°èŠ‚ç‚¹æ•°æ®
- **ç´§å‡‘æ¨¡å¼**: å¯ç”¨ç´§å‡‘æ¨¡å¼ä»¥åœ¨æœ‰é™ç©ºé—´å†…æ˜¾ç¤ºæ›´å¤šèŠ‚ç‚¹

## RPC2 æ¥å£

ä¸»é¢˜é€šè¿‡ `/api/rpc2` è°ƒç”¨ä»¥ä¸‹ Komari æ¥å£ï¼š

- `common:getNodes` - è·å–æ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯
- `common:getNodesLatestStatus` - è·å–èŠ‚ç‚¹æœ€æ–°çŠ¶æ€
- `common:getPublicInfo` - è·å–å…¬å¼€ç«™ç‚¹ä¿¡æ¯

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/            # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ Header.tsx     # é¡µå¤´ç»„ä»¶
â”‚   â”œâ”€â”€ Footer.tsx     # é¡µè„šç»„ä»¶
â”‚   â”œâ”€â”€ NodeCard.tsx   # èŠ‚ç‚¹å¡ç‰‡ç»„ä»¶
â”‚   â””â”€â”€ NodesGrid.tsx  # èŠ‚ç‚¹ç½‘æ ¼ç»„ä»¶
â”œâ”€â”€ layouts/           # Astro å¸ƒå±€
â”‚   â””â”€â”€ BaseLayout.astro
â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â”œâ”€â”€ rpc2.ts       # RPC2 å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ utils.ts      # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ pages/            # Astro é¡µé¢
â”‚   â””â”€â”€ index.astro   # ä¸»é¡µ
â””â”€â”€ styles/           # å…¨å±€æ ·å¼
    â””â”€â”€ globals.css
```

## å…¼å®¹æ€§

- Komari æœåŠ¡å™¨ç‰ˆæœ¬: >= 1.0.7
- æµè§ˆå™¨: ç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox, Safari, Edgeï¼‰

## è‡ªå®šä¹‰å¼€å‘

### æ·»åŠ æ–°ç»„ä»¶

åœ¨ `src/components/` ç›®å½•ä¸­åˆ›å»ºæ–°çš„ React ç»„ä»¶ã€‚

### ä¿®æ”¹æ ·å¼

ç¼–è¾‘ `src/styles/globals.css` æˆ–åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ TailwindCSS ç±»ã€‚

### æ·»åŠ æ–°é¡µé¢

åœ¨ `src/pages/` ç›®å½•ä¸­åˆ›å»ºæ–°çš„ `.astro` æ–‡ä»¶ã€‚

## æœ¬åœ°å­˜å‚¨

ä¸»é¢˜ä½¿ç”¨ä»¥ä¸‹æœ¬åœ°å­˜å‚¨å­—æ®µï¼š

- `appearance`: æ˜æš—ä¸»é¢˜è®¾ç½® (light / dark / system)
- `nodeSelectedGroup`: ç”¨æˆ·é€‰æ‹©çš„èŠ‚ç‚¹åˆ†ç»„
- `nodeViewMode`: å±•ç¤ºæ¨¡å¼ (grid / table)

## è®¸å¯è¯

MIT License

## ä½œè€…

Komari Dev Team

## æ–‡æ¡£

- **[Claude.md](./Claude.md)** - å®Œæ•´çš„å¼€å‘å’Œéƒ¨ç½²æ–‡æ¡£ï¼ˆåŒ…å«æ¶æ„ã€å¼€å‘æŒ‡å—ã€éƒ¨ç½²æŒ‡å—ï¼‰
- **[rpc.md](./rpc.md)** - RPC2 æ¥å£å‚è€ƒæ–‡æ¡£
- **[theme.md](./theme.md)** - Komari ä¸»é¢˜å¼€å‘æŒ‡å—

## ç›¸å…³é“¾æ¥

- [Komari ç›‘æ§ç³»ç»Ÿ](https://github.com/komari-monitor/komari)
- [Astro æ–‡æ¡£](https://docs.astro.build/)
- [shadcn/ui æ–‡æ¡£](https://ui.shadcn.com/)
