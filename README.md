# Komari Aozaki 主题

> **版本**: 1.0.0
> **作者**: Asahina1096
> **许可证**: GNU GPLv3

一个现代化的 Komari 监控系统主题，基于 Astro、React、TailwindCSS 和 shadcn/ui 构建。提供优雅的界面设计和强大的数据可视化功能，让服务器监控变得简单直观。

---

## ✨ 核心特性

### 🎨 现代化 UI 设计

- **暗色主题优先**: 精心设计的深色配色方案，减少视觉疲劳
- **响应式布局**: 完美适配桌面端、平板和移动设备
- **明暗主题切换**: 支持明亮/暗黑/跟随系统三种模式
- **shadcn/ui 组件**: 基于 Radix UI 构建的高质量组件库

### 📊 节点监控功能

#### 节点列表页

- **节点概览卡片**:
  - 节点总数与在线/离线统计
  - 所有服务器平均负载（1m/5m/15m）
  - 实时网络流量汇总（上传/下载速率）
  - 累计流量统计

- **节点卡片**:
  - 节点基本信息（名称、地区、操作系统）
  - 在线时长显示
  - CPU/内存/磁盘使用率（带可视化进度条）
  - 实时网络速度（上传/下载）
  - 系统负载指标

#### 节点详情页

- **实时信息面板**: 显示所有关键指标的实时状态
  - CPU 使用率
  - 内存使用率
  - GPU 使用率（如有）
  - 交换分区使用率
  - 磁盘使用率
  - 网络速度
  - 系统负载
  - 温度监控（如有传感器）
  - 进程数统计
  - TCP/UDP 连接数

- **历史数据可视化**: 10 种专业图表
  - **系统资源组**: CPU、内存、交换分区、磁盘、GPU、温度
  - **网络监控组**: 网络速度、连接数
  - **系统负载组**: 系统负载、进程数

### 🔄 实时数据更新

- **WebSocket 通信**: 基于 JSON-RPC2 协议的实时数据推送
- **1 秒刷新间隔**: 节点状态实时更新
- **自动重连**: 网络断开时自动重新连接
- **低延迟**: 优化的数据传输机制

### 📈 高级图表功能

- **独立时间范围**: 每个图表可单独选择时间范围（1h/6h/12h/24h/7d/30d）
- **同步更新**: 所有图表统一刷新，数据一致性保证
- **智能 X 轴**: 根据时间范围自动调整显示格式
- **无闪烁渲染**: 优化的渲染机制，数据更新流畅
- **动态图例**: 自动显示关键指标和单位

### ⚡ 性能优化

- **静态站点生成**: Astro SSG 提供极速加载
- **全局数据存储**: 单例模式避免重复请求
- **智能加载**: 首次显示骨架屏，后续静默更新
- **并发请求**: 多个图表数据并行加载

---

## 🎯 技术栈

| 技术          | 版本 | 用途                  |
| ------------- | ---- | --------------------- |
| Astro         | 4.x  | 静态站点生成器        |
| React         | 18   | 客户端组件库          |
| TailwindCSS   | 4.x  | CSS 框架              |
| shadcn/ui     | -    | UI 组件库             |
| TypeScript    | 5.x  | 类型系统              |
| Recharts      | 3.x  | 数据可视化图表库      |
| Lucide React  | -    | 图标库                |
| Iconify React | -    | 操作系统图标          |

---

## 📋 系统要求

### 服务器端

- **Komari 服务器**: >= 1.0.7
- **支持协议**: JSON-RPC2 over HTTP/WebSocket

### 客户端

- **浏览器**: Chrome 90+、Firefox 88+、Safari 14+、Edge 90+
- **分辨率**: 建议 1280x720 及以上
- **网络**: 支持 WebSocket 连接

---

## 📖 使用说明

### 安装主题

1. 下载 `komari-aozaki.zip` 主题包
2. 登录 Komari 管理后台（`/admin`）
3. 进入主题管理页面
4. 上传并激活主题

### 功能导航

- **主页**: 查看所有节点列表和概览统计
- **节点详情**: 点击节点卡片进入详情页，查看历史数据图表
- **主题切换**: 点击页头的主题切换按钮
- **时间范围**: 在详情页每个图表右上角选择时间范围

---

## 📚 文档资源

完整的开发和技术文档请参考：

- **[Claude.md](./Claude.md)** - 完整的技术文档（架构、开发指南、部署指南）
- **[rpc.md](./rpc.md)** - RPC2 接口参考文档
- **[theme.md](./theme.md)** - Komari 主题开发指南

---

## 🔗 相关链接

- [Komari 监控系统](https://github.com/komari-monitor/komari)
- [Astro 官方文档](https://docs.astro.build/)
- [shadcn/ui 文档](https://ui.shadcn.com/)
- [TailwindCSS 文档](https://tailwindcss.com/)

---

## 📄 许可证

本项目采用 **GNU GPLv3** 许可证。详见 [LICENSE](./LICENSE) 文件。

---

**需要帮助？** 如有问题或建议，欢迎提交 Issue 或参考完整文档。
