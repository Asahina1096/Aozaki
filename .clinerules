---
description: "Komari Aozaki é¡¹ç›®å¼€å‘è§„èŒƒ - MCP ä¼˜å…ˆ + ç±»å‹å®‰å…¨ + æ€§èƒ½ä¼˜åŒ–"
author: "Asahina1096"
version: "2.1.0"
globs:
  - "**/*.tsx"
  - "**/*.ts"
  - "**/*.astro"
  - "src/**/*"
tags: ["react", "astro", "typescript", "tailwindcss", "mcp", "performance"]
last_updated: "2025-01-19"
---

# .clinerules - Komari Aozaki å¼€å‘è§„èŒƒ

**æŠ€æœ¯æ ˆ**: Astro 5.x â€¢ React 19 â€¢ TypeScript 5 â€¢ TailwindCSS 4 â€¢ shadcn/ui â€¢ Recharts 3
**åŒ…ç®¡ç†å™¨**: Bun 1.3.x (å”¯ä¸€)
**æ ¸å¿ƒåŸåˆ™**: MCP ä¼˜å…ˆ â€¢ ç±»å‹å®‰å…¨ â€¢ æ€§èƒ½å‹å¥½ â€¢ ä½“éªŒè‡³ä¸Š

---

## æ ¸å¿ƒæŒ‡æ ‡

### æ€§èƒ½ç›®æ ‡
- é¦–å±æ¸²æŸ“ (First Paint): < 1.5s
- äº¤äº’å“åº” (Interaction): < 100ms
- å¯äº¤äº’æ—¶é—´ (TTI): < 3s
- Bundle ä½“ç§¯: < 500KB (gzip)
- Lighthouse è¯„åˆ†: > 90

### è´¨é‡ä¿è¯
- ç±»å‹å®‰å…¨: ç¦æ­¢ `any`ï¼Œå¯ç”¨ `strictNullChecks`
- ä»£ç è´¨é‡: æäº¤å‰å¿…é¡»é€šè¿‡ `bun run check:all`
- æµ‹è¯•éªŒè¯: æœ¬åœ°æµ‹è¯• + å“åº”å¼éªŒè¯ + æ§åˆ¶å°é›¶é”™è¯¯

---

## MCP æœåŠ¡å™¨ - å·¥å…·ä¼˜å…ˆåŸåˆ™

**æ ¸å¿ƒåŸåˆ™**: èƒ½ç”¨ MCP å°±ç”¨ MCPï¼Œé¿å…é‡å¤é€ è½®å­

### Context7 - æ–‡æ¡£ä¸æœ€ä½³å®è·µæ£€ç´¢ (CRITICAL)

**Pattern: æŸ¥è¯¢ä¼˜å…ˆå·¥ä½œæµ**
- é‡åˆ°ä¸ç†Ÿæ‚‰çš„ API/Hook/ç»„ä»¶ â†’ å…ˆæŸ¥è¯¢æ–‡æ¡£å†ç¼–å†™ä»£ç 
- ç‰ˆæœ¬å‡çº§/å…¼å®¹æ€§é—®é¢˜ â†’ æŸ¥è¯¢å®˜æ–¹è¿ç§»æŒ‡å—
- å®ç°æ–°åŠŸèƒ½ â†’ æŸ¥è¯å®˜æ–¹æ¨èæ–¹æ¡ˆ

**Rationale**: é¿å…ä½¿ç”¨è¿‡æ—¶ APIï¼Œå‡å°‘è°ƒè¯•æ—¶é—´ï¼Œç¡®ä¿ä»£ç ç¬¦åˆæœ€ä½³å®è·µ

**å·¥ä½œæµ**:
```
resolve-library-id â†’ get-library-docs â†’ åŸºäºå®˜æ–¹å»ºè®®åˆ¶å®šæ–¹æ¡ˆ
```

**æ”¯æŒåº“**:
- `astro`: `/withastro/docs`
- `react`: `/facebook/react`
- `recharts`: `/recharts/recharts`
- `tailwindcss`: `/tailwindlabs/tailwindcss`
- `typescript`: `/microsoft/typescript`

**è§¦å‘åœºæ™¯**:
- â“ ä¸ç¡®å®š API ç”¨æ³•
- ğŸ”§ å®ç°æ–°åŠŸèƒ½å‰
- âš ï¸ é‡åˆ°é”™è¯¯æˆ–è­¦å‘Š
- ğŸ“¦ ç‰ˆæœ¬å‡çº§è¿ç§»
- ğŸ’¡ å¯»æ‰¾æœ€ä½³å®è·µ

### Fetch MCP - ç½‘é¡µå†…å®¹è·å– (HIGH)

**Pattern: ç½‘é¡µå†…å®¹æå–**
- å¤–éƒ¨æ–‡æ¡£æŸ¥çœ‹ â†’ `fetch_markdown`
- API å“åº”è·å– â†’ `fetch_json`
- HTML è§£æ â†’ `fetch_html`

**Rationale**: ç»Ÿä¸€çš„å†…å®¹è·å–æ–¹å¼ï¼Œé¿å…æ‰‹åŠ¨ curl/wget

**æ ¸å¿ƒå·¥å…·**: `fetch_html` | `fetch_markdown` | `fetch_txt` | `fetch_json`

### Git Tools - ç‰ˆæœ¬æ§åˆ¶ç®¡ç† (HIGH)

**Pattern: Git æ“ä½œè‡ªåŠ¨åŒ–**
- ä»£ç æäº¤å‰å…ˆæ£€æŸ¥çŠ¶æ€ â†’ `git_status`
- æŸ¥çœ‹æ›´æ”¹ â†’ `git_diff_unstaged` / `git_diff_staged`
- æäº¤æ›´æ”¹ â†’ `git_add` â†’ `git_commit`

**Rationale**: å‡å°‘æ‰‹åŠ¨å‘½ä»¤è¾“å…¥é”™è¯¯ï¼Œæ ‡å‡†åŒ–æäº¤æµç¨‹

**æ ¸å¿ƒå·¥å…·**:
- çŠ¶æ€æ£€æŸ¥: `git_status` | `git_diff` | `git_log`
- ä»£ç ç®¡ç†: `git_add` | `git_commit` | `git_reset`
- åˆ†æ”¯æ“ä½œ: `git_branch` | `git_checkout` | `git_create_branch`
- å†å²æŸ¥çœ‹: `git_show` | `git_log`

### Sequential Thinking - å¤æ‚é—®é¢˜åˆ†æ (ACT MODE ONLY)

**é™åˆ¶**: âš ï¸ ä»…åœ¨ ACT MODE ä¸‹ä½¿ç”¨

**Pattern: åŠ¨æ€é—®é¢˜åˆ†è§£**
- å¤æ‚ä»»åŠ¡ â†’ åˆ†è§£ä¸ºå¯éªŒè¯çš„å­æ­¥éª¤
- ä¸ç¡®å®šèŒƒå›´ â†’ è¾¹æ¢ç´¢è¾¹è°ƒæ•´æ–¹æ¡ˆ
- éœ€è¦åæ€ â†’ åŠ¨æ€ä¿®æ­£è§£å†³è·¯å¾„

**Rationale**: å¯¹äºå¤æ‚é—®é¢˜ï¼Œé™æ€è§„åˆ’å¾€å¾€ä¸å¤Ÿï¼Œéœ€è¦åŠ¨æ€è°ƒæ•´

**åæ¨¡å¼** âŒ:
- å‡­è®°å¿†å†™ä»£ç ä¸æŸ¥æ–‡æ¡£
- ç”¨ `curl`/`wget` æ›¿ä»£ Fetch MCP
- æ‰‹åŠ¨ `execute_command: git` æ›¿ä»£ Git Tools
- åœ¨ PLAN MODE ä¸‹ä½¿ç”¨ Sequential Thinking

---

## æŠ€æœ¯æ ˆä¸åŒ…ç®¡ç†

### å›ºå®šç‰ˆæœ¬
- Astro 5.x
- React 19.x
- TypeScript 5.x
- TailwindCSS 4.x
- Recharts 3.x

### åŒ…ç®¡ç†å™¨è§„èŒƒ
âœ… **å”¯ä¸€**: `bun.lockb`
âŒ **ç¦æ­¢**: `yarn.lock`, `package-lock.json`, `pnpm-lock.yaml`

**Pattern: ç»Ÿä¸€åŒ…ç®¡ç†å™¨**
- æ‰€æœ‰ä¾èµ–å®‰è£…ä½¿ç”¨ `bun add`
- å¼€å‘ä¾èµ–ä½¿ç”¨ `bun add -D`
- æ‰§è¡Œè„šæœ¬ä½¿ç”¨ `bun run <script>`

**Rationale**: é¿å…é”æ–‡ä»¶å†²çªï¼Œç¡®ä¿å›¢é˜Ÿç¯å¢ƒä¸€è‡´

---

## ä»£ç è§„èŒƒ

### å¯¼å…¥è§„èŒƒ

**Pattern: è·¯å¾„åˆ«åä¼˜å…ˆ**
```typescript
// âœ… æ­£ç¡®: ä½¿ç”¨ @ åˆ«å
import { Button } from '@/components/ui/button'
import { useNodeData } from '@/hooks/useNodeStore'
import { cn } from '@/lib/utils'

// âŒ é”™è¯¯: ç›¸å¯¹è·¯å¾„
import { Button } from '../../../components/ui/button'
```

**å¯¼å…¥é¡ºåº**:
```typescript
// 1. React æ ¸å¿ƒ
import React, { useState, useCallback } from 'react'

// 2. ç¬¬ä¸‰æ–¹åº“
import { clsx } from 'clsx'

// 3. @ åˆ«å (components â†’ hooks â†’ lib)
import { Button } from '@/components/ui/button'
import { useNodeData } from '@/hooks/useNodeStore'
import { cn } from '@/lib/utils'

// 4. ç±»å‹ï¼ˆæœ€åï¼‰
import type { NodeData } from '@/lib/types/komari'
```

**Rationale**: æ¸…æ™°çš„å¯¼å…¥é¡ºåºæé«˜å¯è¯»æ€§ï¼Œ@ åˆ«åé¿å…é‡æ„æ—¶è·¯å¾„é”™è¯¯

### å‘½åè§„èŒƒ

| ç±»å‹ | è§„åˆ™ | ç¤ºä¾‹ |
|------|------|------|
| ç»„ä»¶æ–‡ä»¶ | PascalCase.tsx | `NodeCard.tsx` |
| Hook æ–‡ä»¶ | camelCase.ts | `useNodeStore.ts` |
| ç»„ä»¶å¯¼å‡º | PascalCase | `export function NodeCard()` |
| Hook å¯¼å‡º | useXxx | `export function useNodeData()` |
| å˜é‡ | camelCase | `const nodeData = ...` |
| å¸¸é‡ | UPPER_SNAKE_CASE | `const MAX_RETRIES = 3` |
| ç±»å‹/æ¥å£ | PascalCase | `interface NodeData` |

### React ç»„ä»¶è§„èŒƒ

**Pattern: æ€§èƒ½ä¼˜åŒ–ç»„ä»¶æ¨¡å¼**
```typescript
interface NodeCardProps {
  nodeId: string
  onSelect?: (id: string) => void
}

export function NodeCard({ nodeId, onSelect }: NodeCardProps) {
  // âœ… æ˜‚è´µè®¡ç®—ä½¿ç”¨ useMemo
  const data = useMemo(() => transformData(nodeId), [nodeId])

  // âœ… ä¼ é€’å›è°ƒä½¿ç”¨ useCallback
  const handleClick = useCallback(() => {
    onSelect?.(nodeId)
  }, [nodeId, onSelect])

  return <div onClick={handleClick}>{data}</div>
}
```

**å¿…é¡»éµå®ˆ**:
- âœ… TypeScript + å‘½åå¯¼å‡º
- âœ… Props ä½¿ç”¨ `interface`/`type`
- âœ… æ˜‚è´µè®¡ç®— â†’ `useMemo`
- âœ… ä¼ é€’å›è°ƒ â†’ `useCallback`
- âœ… Effect ä¾èµ–å®Œæ•´
- âŒ é¿å… JSX å†…è”å‡½æ•°/å¯¹è±¡ï¼ˆé™¤é trivialï¼‰

**Rationale**: é˜²æ­¢ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Œæå‡æ€§èƒ½

### Astro ç»„ä»¶è§„èŒƒ

**Pattern: æœ€å°åŒ–å®¢æˆ·ç«¯ JavaScript**
```astro
---
import Layout from '@/layouts/BaseLayout.astro'
import { Button } from '@/components/ui/button'

interface Props {
  title: string
}

const { title } = Astro.props
---

<Layout title={title}>
  <!-- ä»…éœ€è¦äº¤äº’çš„éƒ¨åˆ†ä½¿ç”¨ client: æŒ‡ä»¤ -->
  <Button client:load>Click Me</Button>
</Layout>
```

**å¿…é¡»éµå®ˆ**:
- å¸ƒå±€å¤ç”¨
- `client:*` æŒ‡ä»¤æ˜ç¡®ä¸”æœ€å°åŒ–
- Props ç±»å‹åŒ–

**Rationale**: Astro ä¼˜åŠ¿åœ¨äºé›¶ JSï¼Œåªåœ¨å¿…è¦æ—¶æ‰åŠ è½½å®¢æˆ·ç«¯è„šæœ¬

---

## é¡¹ç›®æ¶æ„

### å›¾è¡¨æ¶æ„

**Pattern: ç»Ÿä¸€ç»§æ‰¿ BaseChart**
```typescript
// âœ… æ­£ç¡®: å¤ç”¨ BaseChart
export function CpuChart() {
  const transformedData = useMemo(() => transformData(rawData), [rawData])

  return (
    <BaseChart
      data={transformedData}
      renderChart={(data) => (
        <AreaChart data={data}>
          {/* Recharts ç»„ä»¶ */}
        </AreaChart>
      )}
    />
  )
}
```

**è§„èŒƒ**:
- âœ… `transformData` + `useMemo`
- âœ… `renderChart` å›è°ƒè¾“å‡º Recharts ç»„ä»¶
- âœ… å¤ç”¨ `CHART_CONFIG` / `CHART_GRADIENTS`
- âœ… é…ç½®é”®å°å†™

**Rationale**: ç»Ÿä¸€æ¶æ„å‡å°‘é‡å¤ä»£ç ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•

### æ•°æ®ç®¡ç†

**Pattern: å•ä¾‹ Store + Hooks è®¿é—®**
```typescript
// âœ… ç»„ä»¶å±‚: åªé€šè¿‡ Hooks
const { data, loading, error } = useNodeData(nodeId)

// âœ… Hooks å±‚: å¯ç›´æ¥è°ƒç”¨ nodeStore
export function useNodeData(nodeId: string) {
  const httpClient = nodeStore.getHttpClient()
  // ...
}

// âŒ ç»„ä»¶å±‚: ç¦æ­¢ç›´æ¥è®¿é—®
const data = nodeStore.getData() // WRONG!
```

**è§„èŒƒ**:
- âœ… ç»„ä»¶å±‚ï¼šåªé€šè¿‡ `useNodesData` / `useNodeData` / `useAllChartsData`
- âœ… Hooks å±‚ï¼šå¯ç›´æ¥è°ƒç”¨ `nodeStore` æ–¹æ³•
- âŒ ç»„ä»¶å±‚ï¼šç¦æ­¢ç›´æ¥è®¿é—® `nodeStore` æˆ–å‘èµ·è½®è¯¢
- âœ… è®¢é˜…éœ€æ¸…ç†

**Rationale**: æ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼Œé¿å…çŠ¶æ€ç®¡ç†æ··ä¹±

### UI ç»„ä»¶

**Pattern: shadcn/ui ç»„ä»¶ä¼˜å…ˆ**
```typescript
// âœ… ä¼˜å…ˆä½¿ç”¨ç°æœ‰ç»„ä»¶
import { Skeleton } from '@/components/ui/skeleton'
import { Badge } from '@/components/ui/badge'
import { Select } from '@/components/ui/select'

// âš ï¸ éœ€è¦è‡ªå®šä¹‰æ—¶æ‰åˆ›å»ºæ–°ç»„ä»¶
```

**é»˜è®¤åŸºç¡€**: shadcn/ui (`@/components/ui/*`)

**è§„èŒƒ**:
- âœ… ä¼˜å…ˆä½¿ç”¨ç°æœ‰ç»„ä»¶
- âœ… ä¿æŒ variants ä¸€è‡´
- âœ… ç›´æ¥å¤ç”¨: `Skeleton` | `Badge` | `Select` | `Progress`

**Rationale**: ä¿æŒ UI ä¸€è‡´æ€§ï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬

### çŠ¶æ€å¤„ç†

**Pattern: ç»Ÿä¸€åŠ è½½/é”™è¯¯/ç©ºçŠ¶æ€**
```typescript
if (loading) return <Skeleton />
if (error) return <ErrorMessage error={error} onRetry={retry} />
if (!data || data.length === 0) return <EmptyState />

return <DataDisplay data={data} />
```

**è§„èŒƒ**:
- `loading` â†’ `Skeleton` / `Placeholder`
- `error` â†’ å‹å¥½æç¤º + é‡è¯•æŒ‰é’®
- `empty` â†’ æ˜ç¡®æ–‡æ¡ˆ
- âŒ ç¦æ­¢é™é»˜å¤±è´¥

**Rationale**: è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒéœ€è¦æ¸…æ™°çš„åé¦ˆ

### å·¥å…·å‡½æ•°

**Pattern: é›†ä¸­ç®¡ç† + ç±»å‹å®‰å…¨**
```typescript
// @/lib/utils
export function formatBytes(bytes: number): string
export function formatPercent(value: number): string
export function formatSpeed(bytesPerSecond: number): string
export function formatTimestamp(timestamp: number): string
export function cn(...inputs: ClassValue[]): string
```

**é›†ä¸­ä½ç½®**: `@/lib/utils`

**æ¨èå‡½æ•°**: `formatBytes` | `formatPercent` | `formatSpeed` | `formatTimestamp` | `cn`

**Rationale**: é¿å…é‡å¤å®ç°ï¼Œç¡®ä¿æ ¼å¼åŒ–ä¸€è‡´æ€§

---

## ç±»å‹å®‰å…¨ä¸æ€§èƒ½

### ç±»å‹å®‰å…¨

**Pattern: ä¸¥æ ¼ç±»å‹æ£€æŸ¥ + æ˜ç¡®ç±»å‹å®šä¹‰**
```typescript
// âœ… æ­£ç¡®: æ˜ç¡®ç±»å‹
interface UserData {
  id: string
  name: string
  age?: number
}

function processUser(user: UserData): string {
  return user.name
}

// âŒ é”™è¯¯: ä½¿ç”¨ any
function processUser(user: any): any {
  return user.name
}
```

**ä¸¥æ ¼æ¨¡å¼**:
- âŒ ç¦æ­¢ `any` / implicit any
- âœ… å¯ç”¨ `strictNullChecks`
- âš ï¸ æ…ç”¨éç©ºæ–­è¨€ (`!`)
- ğŸ’¡ å¯¹è±¡ç»“æ„ â†’ `interface`ï¼Œè”åˆç±»å‹ â†’ `type`
- ğŸ’¡ æ³›å‹å‘½åæ¸…æ™°: `TData`, `TResponse`

**Rationale**: ç¼–è¯‘æ—¶å‘ç°é”™è¯¯ä¼˜äºè¿è¡Œæ—¶å´©æºƒ

### æ€§èƒ½ä¼˜åŒ–

**é‡åŒ–ç›®æ ‡**:
- Bundle: < 500KB (gzip)
- First paint: < 1.5s
- TTI: < 3s
- Lighthouse: > 90

**Pattern: æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**
- Chart data â†’ `useMemo` ç¼“å­˜
- é…ç½®/å¸¸é‡ â†’ æ¨¡å—çº§å®šä¹‰ï¼Œé¿å…é‡å¤åˆ›å»º
- è·¯ç”± â†’ æ‡’åŠ è½½ + ä»£ç æ‹†åˆ†
- å¯¹è±¡/å‡½æ•° â†’ é¿å… JSX å†…è”å®šä¹‰

**å®æ–½ç­–ç•¥**:
- âœ… Memoize chart data / æ˜‚è´µè®¡ç®—
- âœ… å¤ç”¨é…ç½®/å¸¸é‡
- âœ… æ‡’åŠ è½½è·¯ç”± + ä»£ç æ‹†åˆ†
- âŒ ç¦æ­¢ JSX å†…è”å¯¹è±¡/å‡½æ•°

**Rationale**: ç”¨æˆ·ä½“éªŒä¸æ€§èƒ½ç›´æ¥ç›¸å…³

### å“åº”å¼è®¾è®¡

**Pattern: Mobile-first + Tailwind æ–­ç‚¹**
```typescript
// âœ… Mobile-first
<div className="p-4 md:p-6 lg:p-8">

// âŒ å›ºå®šå®½åº¦
<div className="w-[800px]">
```

**æ–­ç‚¹**: `sm` (640px) | `md` (768px) | `lg` (1024px) | `xl` (1280px) | `2xl` (1536px)

**è§„èŒƒ**:
- âœ… ä¼˜å…ˆ mobile-first ç±»å
- âœ… æµ‹è¯•æ‰€æœ‰æ–­ç‚¹
- âŒ ç¦æ­¢å›ºå®šå®½åº¦

**Rationale**: ç§»åŠ¨è®¾å¤‡ä¼˜å…ˆï¼Œæ¸è¿›å¢å¼º

---

## è´¨é‡ä¿è¯å·¥å…·é“¾

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘
bun run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# ä»£ç è´¨é‡æ£€æŸ¥
bun run lint             # ESLint æ£€æŸ¥
bun run lint:fix         # è‡ªåŠ¨ä¿®å¤
bun run format           # Prettier æ ¼å¼åŒ–
bun run format:check     # æ ¼å¼æ£€æŸ¥
bun run check            # TypeScript ç±»å‹æ£€æŸ¥
bun run check:all        # å®Œæ•´æ£€æŸ¥ï¼ˆæäº¤å‰å¿…é¡»ï¼‰

# æ„å»ºå’Œéƒ¨ç½²
bun run build            # ç”Ÿäº§æ„å»º
bun run preview          # é¢„è§ˆæ„å»ºç»“æœ

# ä¾èµ–ç®¡ç†
bun add <package>        # æ·»åŠ ä¾èµ–
bun add -D <package>     # æ·»åŠ å¼€å‘ä¾èµ–
bun remove <package>     # åˆ é™¤ä¾èµ–
bun update               # æ›´æ–°ä¾èµ–
```

### å·¥ä½œæµç¨‹

**Pattern: Pre-commit æ£€æŸ¥**
```bash
# æäº¤å‰å¿…é¡»æ‰§è¡Œ
bun run check:all

# å¦‚æœé€šè¿‡
git add .
git commit -m "feat(charts): æ·»åŠ  GPU æ¸©åº¦å›¾è¡¨"

# å¦‚æœå¤±è´¥
# 1. ä¿®å¤é”™è¯¯
# 2. é‡æ–°è¿è¡Œ check:all
# 3. å†æ¬¡æäº¤
```

**è§„èŒƒ**:
- Pre-commit: `bun run check:all`
- CI/CD: `bun run check:all` + `bun run build`

**Rationale**: é˜²æ­¢ä¸åˆæ ¼ä»£ç è¿›å…¥ä»£ç åº“

---

## Git æäº¤è§„èŒƒ

**Pattern: Conventional Commits**

**æ ¼å¼**: `type(scope): subject`

**ç±»å‹è¯´æ˜**:
- `feat`: æ–°åŠŸèƒ½
- `fix`: é”™è¯¯ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ï¼ˆä¸æ”¹å˜åŠŸèƒ½ï¼‰
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é…ç½®

**ç¤ºä¾‹**:
```bash
feat(charts): æ·»åŠ  GPU æ¸©åº¦å›¾è¡¨
fix(nodeStore): ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜
docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
perf(charts): ä¼˜åŒ–å›¾è¡¨æ¸²æŸ“æ€§èƒ½
refactor(hooks): é‡æ„ useNodeData Hook
```

**Rationale**: æ ‡å‡†åŒ–æäº¤ä¿¡æ¯ï¼Œä¾¿äºç”Ÿæˆ changelog å’Œç‰ˆæœ¬ç®¡ç†

---

## æ•…éšœæ’æŸ¥æŒ‡å—

### å¸¸è§é—®é¢˜

**é—®é¢˜: TypeScript ç±»å‹é”™è¯¯**
```bash
# 1. æ£€æŸ¥ç±»å‹å®šä¹‰
bun run check

# 2. é‡å¯ TypeScript æœåŠ¡å™¨
# VSCode: Cmd/Ctrl + Shift + P â†’ "TypeScript: Restart TS Server"

# 3. æ¸…ç†å¹¶é‡è£…ä¾èµ–
rm -rf node_modules bun.lockb
bun install
```

**é—®é¢˜: æ„å»ºå¤±è´¥**
```bash
# 1. æ¸…ç†æ„å»ºç¼“å­˜
rm -rf dist .astro

# 2. é‡æ–°æ„å»º
bun run build

# 3. æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬
bun run check:all
```

**é—®é¢˜: æ ·å¼ä¸ç”Ÿæ•ˆ**
```bash
# 1. æ£€æŸ¥ Tailwind é…ç½®
cat tailwind.config.mjs

# 2. é‡å¯å¼€å‘æœåŠ¡å™¨
# Ctrl+C â†’ bun run dev

# 3. æ¸…ç† PostCSS ç¼“å­˜
rm -rf .astro node_modules/.cache
```

**é—®é¢˜: MCP å·¥å…·ä¸å¯ç”¨**
```bash
# 1. æ£€æŸ¥ MCP æœåŠ¡å™¨çŠ¶æ€
# VSCode: æ£€æŸ¥ Cline è®¾ç½®ä¸­çš„ MCP é…ç½®

# 2. é‡å¯ MCP æœåŠ¡å™¨
# VSCode: é‡å¯çª—å£æˆ–é‡æ–°åŠ è½½æ‰©å±•

# 3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
# VSCode: æŸ¥çœ‹ Cline è¾“å‡ºé¢æ¿
```

---

## å¼€å‘å“²å­¦

### æ ¸å¿ƒåŸåˆ™

1. **MCP å·¥å…·ä¼˜å…ˆ**
   - èƒ½ç”¨ MCP å°±ç”¨ MCPï¼Œé¿å…é‡å¤é€ è½®å­
   - Context7 æŸ¥è¯¢æ–‡æ¡£ > å‡­è®°å¿†ç¼–ç 

2. **ç±»å‹å®‰å…¨ + å¯ç»´æŠ¤**
   - ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼Œæ¸…æ™°ä»£ç ç»“æ„
   - æ¥å£ä¼˜äºå®ç°ï¼Œç»„åˆä¼˜äºç»§æ‰¿

3. **æ€§èƒ½å‹å¥½ + ä½“éªŒä¼˜å…ˆ**
   - é‡åŒ–æŒ‡æ ‡ï¼ŒæŒç»­ä¼˜åŒ–
   - ç”¨æˆ·ä½“éªŒ > æŠ€æœ¯ç‚«æŠ€

4. **æ–‡æ¡£åŒ– + å¿«é€Ÿåé¦ˆ**
   - å®Œå–„æ³¨é‡Šï¼ŒåŠæ—¶éªŒè¯
   - å¤±è´¥å¿«é€Ÿï¼Œåé¦ˆæ¸…æ™°

### Pattern-Rationale æ€ç»´

æ¯ä¸ªæŠ€æœ¯å†³ç­–éƒ½åº”è¯¥æœ‰ï¼š
- **Pattern**: å…·ä½“æ€ä¹ˆåš
- **Rationale**: ä¸ºä»€ä¹ˆè¿™ä¹ˆåš

**ç¤ºä¾‹**:
- **Pattern**: ä½¿ç”¨ `useMemo` ç¼“å­˜æ˜‚è´µè®¡ç®—
- **Rationale**: é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—ï¼Œæå‡æ€§èƒ½

è¿™ç§æ€ç»´æ–¹å¼å¸®åŠ©å›¢é˜Ÿç†è§£å†³ç­–èƒŒåçš„åŸå› ï¼Œè€Œä¸ä»…ä»…æ˜¯éµå¾ªè§„åˆ™ã€‚

---

## ç‰ˆæœ¬å˜æ›´

### v2.1.0 (2025-01-19)
- åŸºäº Context7 æœ€ä½³å®è·µé‡å†™æ–‡æ¡£ç»“æ„
- æ·»åŠ  Pattern-Rationale æ¨¡å¼è¯´æ˜
- è¡¥å……å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥ç« èŠ‚
- å¼ºåŒ– MCP å·¥å…·è§¦å‘åœºæ™¯
- æ·»åŠ æ•…éšœæ’æŸ¥æŒ‡å—
- ä¼˜åŒ–ä»£ç ç¤ºä¾‹å’Œæ ¼å¼
- ç®€åŒ–å†—é•¿å†…å®¹ï¼Œæé«˜å¯è¯»æ€§

### v2.0.0 (2025-01-17)
- åˆå§‹ç‰ˆæœ¬
