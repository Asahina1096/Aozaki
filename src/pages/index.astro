---
import Footer from "@/components/Footer.astro";
import { Header } from "@/components/Header";
import { ServerList } from "@/components/ServerList";
import BaseLayout from "@/layouts/BaseLayout.astro";
---

<BaseLayout>
  <div class="flex min-h-screen flex-col">
    <!-- 主题切换非关键功能，使用 client:idle 延迟加载 -->
    <Header client:idle />

    <main class="flex-1">
      <div class="container py-8">
        <div class="mb-8 flex items-center">
          <h2 class="text-2xl md:text-3xl font-bold text-primary">节点状态</h2>
        </div>

        <!-- ServerList 是核心交互，保持 client:load -->
        <ServerList client:load refreshInterval={2000} />
      </div>
    </main>

    <!-- Footer 改为静态 Astro 组件 -->
    <Footer />
  </div>
</BaseLayout>
